" for when using elsewhere
set fsync backspace=indent,eol,start updatetime=290
set encoding=utf-8 fileencoding=utf-8
" set shell=zsh
" search candy
set incsearch nohlsearch ignorecase smartcase

" useful shiz
set number relativenumber
set splitright splitbelow
set mouse=a mousefocus clipboard=unnamedplus
set smarttab autoindent copyindent
set scrolloff=4	  " 4 lines of context when scrolling
syntax enable
set history=1000 undolevels=1000 updatecount=100
set autoread nospell
set ttimeoutlen=10
" non-printable and double-width chars
set ambiwidth=single "showbreak=↪\ "
set listchars=tab:¦\ ,precedes:←,extends:→,nbsp:‡,trail:·,eol:¬
" default tab->2 spaces, use multiples of 2 when autoindenting
set tabstop=2 shiftwidth=2 shiftround
" wrap shiz
set wrap linebreak nolist
set whichwrap=b,s,~
filetype indent plugin on
set directory=~/.cache/vim/tmp undodir=~/.cache/vim/undo viminfofile=~/.cache/vim/viminfo

set noshowmode showcmd noerrorbells visualbell
set termguicolors conceallevel=2

""" VIM-PLUG """

" install vim-plug if it's not already there
if empty(glob('~/.vim/autoload/plug.vim'))
  silent !curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  autocmd VimEnter * PlugInstall --sync | source $MYVIMRC
endif

call plug#begin('~/.vim/plugs')
Plug 'jamessan/vim-gnupg'
Plug 'vim-pandoc/vim-pandoc'
Plug 'vim-pandoc/vim-pandoc-syntax'
Plug 'dhruvasagar/vim-table-mode'
" Plug 'tpope/vim-vinegar'
"Plug 'jceb/vim-orgmode'

Plug 'morhetz/gruvbox'
Plug 'mhinz/vim-startify'
if !has('nvim')
  Plug 'roxma/vim-hug-neovim-rpc'
endif
Plug 'roxma/nvim-completion-manager'

Plug 'calebeby/ncm-css'

Plug 'ctrlpvim/ctrlp.vim'
Plug 'vim-airline/vim-airline'
Plug 'vim-airline/vim-airline-themes'
Plug 'tpope/vim-surround'
" Plug 'Valloric/YouCompleteMe', {'do': './install.py --clang-completer --system-libclang --racer-completer'}
Plug 'junegunn/goyo.vim'

" Plug 'python-mode/python-mode', {'branch': 'develop'}
"Plug 'w0rp/ale'
Plug 'google/yapf'

" Plug 'xuhdev/vim-latex-live-preview'

Plug 'chrisbra/colorizer'
Plug 'Raimondi/delimitMate'
"Plug 'majutsushi/tagbar'
Plug 'sjl/gundo.vim'
Plug 'godlygeek/tabular'
Plug 'tpope/vim-commentary'
"Plug 'severin-lemaignan/vim-minimap'

Plug 'johngrib/vim-game-snake'

call plug#end()

set laststatus=2
set shortmess=filnrxtWc

" Gruvbox on GUI
if has('gui_running')
  set guioptions='PAciMg'  " remove cruft
  set guifont="Knack 13,Hasklig 13"
  set guipty
  set background=dark
  colorscheme gruvbox
  let g:gruvbox_italic = 1
  let g:gruvbox_contrast_dark='oft'
  let g:gruvbox_guisp_fallback='fg'
  let g:gruvbox_termcolors=256
else
  colorscheme fruchtig
endif

" set cursor shape on libvte-based terminals:
" block in normal mode
" I-beam in insert
" Underline in replace
let &t_SI = "\<Esc>[6 q"
let &t_SR = "\<Esc>[4 q"
let &t_EI = "\<Esc>[2 q"

" Autocommands
autocmd BufRead,BufNewFile *.txt set spell spelllang=en textwidth=80
autocmd FileType *.ino,*.pde set filetype=arduino
autocmd FileType *mail set nospell number
autocmd FileType mail let b:loaded_delimitMate = 1

"function! RmWs()
  "%s/\s\+$//e
"endfunction
